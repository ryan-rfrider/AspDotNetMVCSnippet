
@model AspDotNetMVCSnippet.Controllers.CheckboxViewModel
@{
    ViewBag.Title = "About";
}
<main>
    @using (Html.BeginForm())
    {
        <div style="border:1px solid;border-color:red">
            <div>
                <input class="form-check-input" type="checkbox" id="ChkA" name="ChkA" value="true" @(Model.ChkA ? "checked" : "") />
                <label for="ChkA">A</label>
            </div>
            <div>
                <input class="form-check-input" type="checkbox" id="ChkB" name="ChkB" value="true" @(Model.ChkB ? "checked" : "") />
                <label for="ChkB">B</label>
            </div>
            <div>
                <input class="form-check-input" type="checkbox" id="ChkC" name="ChkC" value="true" @(Model.ChkC ? "checked" : "") />
                <label for="ChkC">C</label>
            </div>
        </div>
        <div style="border:1px solid;border-color:red">
        </div>
        <div style="border:1px solid;border-color:red">
            @for (int i = 0; i < Model.ChkListA.Count; i++)
            {
                @Html.CheckBoxFor(x => x.ChkListA[i].Selected, new { @class = "form-check-input" })
                @Html.HiddenFor(m => m.ChkListA[i].Value)
                @Html.HiddenFor(m => m.ChkListA[i].Text)
                @Html.LabelFor(x => x.ChkListA[i].Text, Model.ChkListA[i].Text)
            }
        </div>

        <div style="border:1px solid;border-color:red">
        </div>
        <div style="border:1px solid;border-color:red">
            @for (int i = 0; i < Model.ChkListB.Count; i++)
            {
                <input type="checkbox" class = "form-check-input"  id="ChkListB_@i" name="ChkListB[@i].Selected" value="true"  @(Model.ChkListB[i].Selected ? "checked" : "") />
                <input name="ChkListB[@i].Selected" type="hidden" value="false">
                <input type="hidden"  id="ChkListB[@i]_Value" name="ChkListB[@i].Value" value="@Model.ChkListB[i].Value" />
                <input type="hidden" id="ChkListB[@i]_Text" name="ChkListB[@i].Text" value="@Model.ChkListB[i].Text" />
                @Html.LabelFor(x => x.ChkListB[i].Text, Model.ChkListB[i].Text)
            }
        </div>

        <div class="col-md-auto" style="margin-top: 10px;">
            <input value="submit" type="submit" class="btn-success " />
        </div>
    }
</main>